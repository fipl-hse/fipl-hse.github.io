<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Working with tests: locally and in CI &mdash; Программирование для лингвистов  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/design-tabs.js?v=36754332"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Configuring Python for course development" href="DEVELOPER.html" />
    <link rel="prev" title="Fork update" href="fork_update.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Программирование для лингвистов
              <img src="../../../_static/fal_logo.jpeg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Полезные Материалы</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../general_docs/index.html">Полезные материалы для курсов на русском языке</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Useful Materials for Technical Track of Computer Tools for Linguistic Research</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="starting_guide_en.html">Starting guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="fork_update.html">Fork update</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Working with tests: locally and in CI</a></li>
<li class="toctree-l3"><a class="reference internal" href="DEVELOPER.html">Configuring Python for course development</a></li>
<li class="toctree-l3"><a class="reference internal" href="run_in_terminal.html">Run Python Programs in Terminal</a></li>
<li class="toctree-l3"><a class="reference internal" href="dynamic_scraping.html">How to scrape dynamic web sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="core_utils.html">Core utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="article.html">Article package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ud_format.html">Working with UD format and <code class="docutils literal notranslate"><span class="pre">CoNLL-U</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="UD_intro.html">Introduction to UD format</a></li>
<li class="toctree-l3"><a class="reference internal" href="graphs_intro.html">Introduction to graph data structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataset.html">Dataset requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../labs_2023/index.html">Курс “Программирование для лингвистов” (2023/2024)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs_2024/index.html">Курс “Программирование для лингвистов” (2024/2025)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../labs_2025/index.html">Курс “Программирование для лингвистов” (2025/2026)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ctlr_2023/index.html">Technical Track of Computer Tools for Linguistic Research (2023/2024)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ctlr_2024/index.html">Technical Track of Computer Tools for Linguistic Research (2024/2025)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../llm_2023/index.html">Курс “Информационный поиск и извлечение данных” (2023/2024)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../llm_2024/index.html">Курс “Информационный поиск и извлечение данных” (2024/2025)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../llm_2025/index.html">Курс “Информационный поиск и извлечение данных” (2025/2026)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Программирование для лингвистов</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Полезные Материалы</a></li>
          <li class="breadcrumb-item"><a href="index.html">Useful Materials for Technical Track of Computer Tools for Linguistic Research</a></li>
      <li class="breadcrumb-item active">Working with tests: locally and in CI</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/docs/useful_docs/ctlr_docs/tests.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <nav class="contents" id="contents" role="doc-toc">
<span id="ctlr-tests-label"></span><p class="topic-title">Contents:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#working-with-tests-locally-and-in-ci" id="id1">Working with tests: locally and in CI</a></p>
<ul>
<li><p><a class="reference internal" href="#tests-configuration-in-visual-studio-code" id="id2">Tests configuration in Visual Studio Code</a></p></li>
<li><p><a class="reference internal" href="#running-tests-in-visual-studio-code" id="id3">Running tests in Visual Studio Code</a></p></li>
<li><p><a class="reference internal" href="#debugging" id="id4">Debugging</a></p></li>
<li><p><a class="reference internal" href="#running-tests-in-terminal" id="id5">Running tests in terminal</a></p></li>
<li><p><a class="reference internal" href="#running-tests-with-the-start-button" id="id6">Running tests with the start button</a></p></li>
<li><p><a class="reference internal" href="#running-tests-in-ci" id="id7">Running tests in CI</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="working-with-tests-locally-and-in-ci">
<h1><a class="toc-backref" href="#id8" role="doc-backlink">Working with tests: locally and in CI</a><a class="headerlink" href="#working-with-tests-locally-and-in-ci" title="Link to this heading"></a></h1>
<nav class="contents" id="content">
<p class="topic-title">Content:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#working-with-tests-locally-and-in-ci" id="id8">Working with tests: locally and in CI</a></p>
<ul>
<li><p><a class="reference internal" href="#tests-configuration-in-visual-studio-code" id="id9">Tests configuration in Visual Studio Code</a></p></li>
<li><p><a class="reference internal" href="#running-tests-in-visual-studio-code" id="id10">Running tests in Visual Studio Code</a></p></li>
<li><p><a class="reference internal" href="#debugging" id="id11">Debugging</a></p></li>
<li><p><a class="reference internal" href="#running-tests-in-terminal" id="id12">Running tests in terminal</a></p></li>
<li><p><a class="reference internal" href="#running-tests-with-the-start-button" id="id13">Running tests with the start button</a></p></li>
<li><p><a class="reference internal" href="#running-tests-in-ci" id="id14">Running tests in CI</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="tests-configuration-in-visual-studio-code">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Tests configuration in Visual Studio Code</a><a class="headerlink" href="#tests-configuration-in-visual-studio-code" title="Link to this heading"></a></h2>
<p>To configure tests locally you need to perform several steps:</p>
<ol class="arabic">
<li><p>Install tests dependencies:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements_qa.txt
</pre></div>
</div>
</li>
</ol>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Ensure you have activated your environment
if you have such by running <code class="docutils literal notranslate"><span class="pre">.\venv\Scripts\activate</span></code>
(Windows) or <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">venv\bin\activate</span></code> (macOS).</p>
</div>
<ol class="arabic" start="2">
<li><p>Create a new configuration:</p>
<p>To create a new configuration open the Testing tab on the side
bar of Visual Studio Code and press the <cite>Configure Python Tests</cite>
button.</p>
<img alt="../../../_images/vscode_testing_tab.png" src="../../../_images/vscode_testing_tab.png" />
<p>Alternatively, you can open configuration settings via command bar.
Use <cite>Ctrl + Shift + P</cite> keyboard shortcut to open it and type in
<cite>Python: Configure Tests</cite>.</p>
<img alt="../../../_images/vscode_command_bar.png" src="../../../_images/vscode_command_bar.png" />
</li>
<li><p>Choose <code class="docutils literal notranslate"><span class="pre">pytest</span></code> as a target:</p>
<img alt="../../../_images/vscode_tests_configuration_step_1.png" src="../../../_images/vscode_tests_configuration_step_1.png" />
</li>
<li><p>Choose the directory to run all tests. You can use root directory to run all
tests or a specific lab.</p>
<img alt="../../../_images/vscode_tests_configuration_step_2.png" src="../../../_images/vscode_tests_configuration_step_2.png" />
<p>When you are done, the <cite>settings.json</cite> file for the tests will be opened
and all the tests will be displayed on the <cite>Testing</cite> tab of the
Visual Studio Code.</p>
<img alt="../../../_images/vscode_configured_tests.png" src="../../../_images/vscode_configured_tests.png" />
</li>
</ol>
</section>
<section id="running-tests-in-visual-studio-code">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Running tests in Visual Studio Code</a><a class="headerlink" href="#running-tests-in-visual-studio-code" title="Link to this heading"></a></h2>
<p>To run the test, press the run button, as indicated in the screenshot above.</p>
<p>As you have some tests failing, you want to run them separately. You can press
a run button next to a test you want to run in the tests files specifically
or in the <cite>Testing</cite> tab.</p>
<img alt="../../../_images/vscode_running_tests.png" src="../../../_images/vscode_running_tests.png" />
</section>
<section id="debugging">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Debugging</a><a class="headerlink" href="#debugging" title="Link to this heading"></a></h2>
<p>When you want to debug a test, execute debugging by clicking a run button
with a bug on it on a test you want to run in the <cite>Testing</cite> tab or make a
right click on the testing button in the test file itself and choose the
<cite>Debug Test</cite> option.</p>
<img alt="../../../_images/vscode_debugging.png" src="../../../_images/vscode_debugging.png" />
<p>To debug you should put a breakpoint in your code or in the test itself.
Breakpoints are red dots that you can put at the potentially vulnerable place of code.
The execution stops at breakpoints and you can debug your code from these lines.</p>
<img alt="../../../_images/breakpoints.png" src="../../../_images/breakpoints.png" />
</section>
<section id="running-tests-in-terminal">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Running tests in terminal</a><a class="headerlink" href="#running-tests-in-terminal" title="Link to this heading"></a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Ensure you have activated your environment
and installed all required dependencies.</p>
</div>
<p>To run all tests, execute the following command in the terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pytest
</pre></div>
</div>
<p>You can also run tests for any of the allowed marks:
<code class="docutils literal notranslate"><span class="pre">mark4</span></code>, <code class="docutils literal notranslate"><span class="pre">mark6</span></code>, <code class="docutils literal notranslate"><span class="pre">mark8</span></code> or <code class="docutils literal notranslate"><span class="pre">mark10</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pytest<span class="w"> </span>-m<span class="w"> </span>mark8
</pre></div>
</div>
<p>To run tests for a specific laboratory work you can add the directory name
after <cite>pytest</cite> command. For example, if you want to run tests for
<cite>lab_1_keywords_tfidf</cite> and mark 4, the full command and the full terminal
output should look like this:</p>
<img alt="../../../_images/running_from_command_line.png" src="../../../_images/running_from_command_line.png" />
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<dl class="simple">
<dt>Note that if you activated virtual environment and installed</dt><dd><p>requirements properly, you can use <cite>pytest</cite> without calling</p>
</dd>
</dl>
<p><cite>python -m</cite> first.</p>
</div>
</section>
<section id="running-tests-with-the-start-button">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Running tests with the start button</a><a class="headerlink" href="#running-tests-with-the-start-button" title="Link to this heading"></a></h2>
<p>As well as running tests in command-line, you can run them with
the triangle-shaped start button. For that, go to the
abovementioned Testing tab on the side bar of Visual Studio Code.
The button appears at the right side of the laboratory work’s name when the
cursor is hovered over it.</p>
<img alt="../../../_images/cursor_over_the_start_button.png" src="../../../_images/cursor_over_the_start_button.png" />
<p>Initially, when pressing the button, all tests in that laboratory
work are run, regardless of their mark.
To do that for the particular mark (and the particular laboratory work),
go to the <code class="docutils literal notranslate"><span class="pre">.vscode\settings.json</span></code> and change the value of the
<strong>python.testing.pytestArgs</strong> key. By default, <code class="docutils literal notranslate"><span class="pre">&quot;.&quot;</span></code> is set.
Instead of it, you should place the laboratory work’s name,
<code class="docutils literal notranslate"><span class="pre">&quot;-m&quot;</span></code> flag and the desired mark in the list. See the example below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="s2">&quot;python.testing.pytestArgs&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="s2">&quot;lab_4_auto_completion&quot;</span><span class="p">,</span>
     <span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;mark10&quot;</span>
 <span class="p">],</span>
 <span class="s2">&quot;python.testing.unittestEnabled&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
 <span class="s2">&quot;python.testing.pytestEnabled&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="running-tests-in-ci">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">Running tests in CI</a><a class="headerlink" href="#running-tests-in-ci" title="Link to this heading"></a></h2>
<p>Tests will never run until you create a Pull Request.</p>
<p>The very first check happens exactly when you create a pull request.
After that, each time you push changes in your fork, CI check will be
automatically started, normally within a minute or two. To see the
results, navigate to your PR and click either the particular step in the
report at the end of a page, or click <strong>Checks</strong> in the toolbar.</p>
<img alt="../../../_images/ci_report.png" src="../../../_images/ci_report.png" />
<img alt="../../../_images/ci_tab.png" src="../../../_images/ci_tab.png" />
<p>Inspect each step by clicking through the list to the left.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="fork_update.html" class="btn btn-neutral float-left" title="Fork update" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="DEVELOPER.html" class="btn btn-neutral float-right" title="Configuring Python for course development" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Демидовский А.В. и другие.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>